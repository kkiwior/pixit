@page "/"
@using pixit.Client.Services
@using pixit.Server.Models
@inject NavigationManager NavigationManager
@inject WSService wss

<div class="col-sm-12 col-md-10 col-xl-6 center-block">
    <div class="card primary h-100">
        <EditForm Model="@User" OnValidSubmit="@Submit">
            <DataAnnotationsValidator />
            <div class="form-group">
                <label for="name"></label>
                <InputText id="name" @bind-Value="User.Name" class="form-control" placeholder="Nazwa użytkownika" />
                <ValidationMessage For="()=> User.Name" />
            </div>
            <div class="d-flex justify-content-center">
                <button class="btn secondary" type="submit">Wejdź</button>
            </div>
        </EditForm>
    </div>
</div>


@code
{
    private UserModel User = new UserModel();

    private Task Submit()
    {
        wss.UserJoin(User);
        NavigationManager.NavigateTo("rooms");
        return Task.CompletedTask;
    }


}